# tools
#CC := gcc -DUSE_OLD_DASH_AS_BIN_SH
CC := gcc
RM := rm -f
CP := cp

# flags
CFLAGS :=   -ggdb -m32
LDFLAGS := -m32 -L/usr/lib32
LDLIBS :=

# sources
sources := exploit1.c exploit2.c exploit3.c exploit4.c exploit5.c exploit6.c
targets := $(sources:.c=)

# gmake magic
.PHONY: default all clean

#targets
default: all
all: $(targets)
	$(RM) /tmp/exploit7-file /tmp/exploit7-stdin
	$(CP) exploit7-file exploit7-stdin /tmp/
	

clean:
	$(RM) $(targets) $(sources:.c=.o)
	$(RM) /tmp/exploit7-file /tmp/exploit7-stdin

#dependencies
$(sources:.c=.o): shellcode.h
